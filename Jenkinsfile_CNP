#!groovy

@Library("Infrastructure")

def product = "snl"
def component = "api"

withPipeline("java", product, component) {
  enableDbMigration()
  onMaster {
      enableSlackNotifications('#snl-master-builds')
  }
  onDemo {
      enableSlackNotifications('#snl-demo-builds')
  }
  onPR {
      enableSlackNotifications('#snl-pr-builds')
  }
  after('checkout') {
    echo 'sln-frontend checked out'
  }

  before('buildinfra:prod') {
    error 'This is PoC project for Scheduling and Listing therefore the prod environment will not be built'
  }
}
